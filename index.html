<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-H92YYFCHHE"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-H92YYFCHHE');
  </script>
  
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Free Arabic Calligraphy Generator Online | Create Beautiful Arabic Art</title>
  <meta name="description" content="Create stunning Arabic calligraphy for free. Convert English to Arabic, choose from 11 calligraphy fonts (Thuluth, Diwani, Naskh, Kufi), export as PNG, JPG or SVG. No signup required.">
  <meta name="keywords" content="arabic calligraphy generator, arabic font generator, english to arabic calligraphy, arabic text generator, arabic calligraphy maker, thuluth calligraphy, diwani calligraphy">
  <meta name="robots" content="index, follow">
  <meta name="author" content="Arabic Calligraphy Generator">
  <link rel="canonical" href="https://arabiccalligraphygenerator.online/">
  
  <!-- Open Graph -->
  <meta property="og:title" content="Free Arabic Calligraphy Generator Online">
  <meta property="og:description" content="Create stunning Arabic calligraphy for free. Convert English to Arabic, export as PNG, JPG or SVG.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://arabiccalligraphygenerator.online/">
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚ú®</text></svg>">
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Aref+Ruqaa:wght@400;700&family=Cairo:wght@400;700&family=Lateef&family=Markazi+Text:wght@400;700&family=Mirza:wght@400;700&family=Noto+Kufi+Arabic:wght@400;700&family=Noto+Naskh+Arabic:wght@400;700&family=Noto+Nastaliq+Urdu:wght@400;700&family=Reem+Kufi:wght@400;700&family=Scheherazade+New:wght@400;700&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Schema.org -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Arabic Calligraphy Generator",
    "description": "Free online tool to create beautiful Arabic calligraphy.",
    "url": "https://arabiccalligraphygenerator.online/",
    "applicationCategory": "DesignApplication",
    "operatingSystem": "Any",
    "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" }
  }
  </script>
  
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "Is this Arabic calligraphy generator free?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes, our Arabic calligraphy generator is completely free to use. You can create unlimited designs and export them as PNG, JPG, or SVG without any signup or payment required."
        }
      },
      {
        "@type": "Question",
        "name": "Can I export Arabic calligraphy as SVG vector?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes, you can export your Arabic calligraphy as SVG vector format for free. This allows you to scale your design to any size without losing quality, perfect for logos and print materials."
        }
      },
      {
        "@type": "Question",
        "name": "What Arabic calligraphy styles are available?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "We offer 11 Arabic calligraphy styles including Thuluth, Naskh, Kufi, Diwani, Nastaliq, and modern styles like Cairo and Markazi."
        }
      },
      {
        "@type": "Question",
        "name": "How do I write my name in Arabic calligraphy?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Simply type your name in English in our generator and click Translate to convert it to Arabic. Then choose your preferred calligraphy style and export."
        }
      },
      {
        "@type": "Question",
        "name": "Can I use this for Arabic calligraphy tattoo designs?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes, many users create Arabic calligraphy designs for tattoos. Export as SVG for the best quality that your tattoo artist can use."
        }
      }
    ]
  }
  </script>
  
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    :root {
      --gray-50: #fafafa;
      --gray-100: #f5f5f5;
      --gray-200: #e5e5e5;
      --gray-300: #d4d4d4;
      --gray-400: #a3a3a3;
      --gray-500: #737373;
      --gray-600: #525252;
      --gray-700: #404040;
      --gray-800: #262626;
      --gray-900: #171717;
      --blue-500: #3b82f6;
      --blue-600: #2563eb;
      --green-500: #22c55e;
    }
    
    html {
      height: 100%;
    }
    
    body {
      min-height: 100%;
      font-family: 'DM Sans', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--gray-100);
      color: var(--gray-800);
      line-height: 1.5;
    }
    
    /* Header */
    .header {
      height: 56px;
      background: #fff;
      border-bottom: 1px solid var(--gray-200);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
      flex-shrink: 0;
    }
    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 16px;
      font-weight: 700;
      color: var(--gray-900);
      text-decoration: none;
    }
    .logo-icon {
      width: 32px;
      height: 32px;
      background: linear-gradient(135deg, var(--blue-500), #8b5cf6);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-size: 16px;
    }
    .header-badge {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      background: var(--green-500);
      color: #fff;
      border-radius: 6px;
      font-size: 12px;
      font-weight: 600;
    }
    .header-links {
      display: flex;
      gap: 24px;
      list-style: none;
    }
    .header-links a {
      color: var(--gray-600);
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
    }
    .header-links a:hover { color: var(--gray-900); }
    
    /* Hero Section */
    .hero {
      text-align: center;
      padding: 24px 24px 20px;
      background: #fff;
    }
    .hero h1 {
      font-size: 28px;
      font-weight: 700;
      color: var(--gray-900);
      margin-bottom: 8px;
    }
    .hero p {
      font-size: 15px;
      color: var(--gray-600);
      max-width: 600px;
      margin: 0 auto 12px;
    }
    .hero-badges {
      display: flex;
      justify-content: center;
      gap: 10px;
      flex-wrap: wrap;
    }
    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 5px 10px;
      background: var(--gray-50);
      border: 1px solid var(--gray-200);
      border-radius: 16px;
      font-size: 12px;
      color: var(--gray-600);
    }
    
    /* Main Layout */
    .main-wrapper {
      background: var(--gray-100);
      padding: 20px 24px 40px;
    }
    .main {
      display: flex;
      height: 600px;
      max-width: 1400px;
      margin: 0 auto;
      gap: 20px;
    }
    
    /* Left Panel - Scrollable */
    .panel {
      width: 360px;
      background: #fff;
      border: 1px solid var(--gray-200);
      border-radius: 12px;
      overflow-y: auto;
      flex-shrink: 0;
    }
    .panel::-webkit-scrollbar { width: 6px; }
    .panel::-webkit-scrollbar-thumb { background: var(--gray-300); border-radius: 3px; }
    .panel::-webkit-scrollbar-track { background: transparent; }
    
    .section {
      padding: 16px 20px;
      border-bottom: 1px solid var(--gray-100);
    }
    .section:last-child {
      border-bottom: none;
      padding-bottom: 40px;
    }
    .section-title {
      font-size: 11px;
      font-weight: 600;
      color: var(--gray-500);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 12px;
    }
    
    /* Form Elements */
    .form-group { margin-bottom: 14px; }
    .form-group:last-child { margin-bottom: 0; }
    label {
      display: block;
      font-size: 13px;
      font-weight: 500;
      color: var(--gray-700);
      margin-bottom: 6px;
    }
    label span { color: var(--gray-400); font-weight: 400; }
    
    input[type="text"], input[type="number"], select {
      width: 100%;
      padding: 8px 12px;
      font-size: 14px;
      font-family: inherit;
      border: 1px solid var(--gray-300);
      border-radius: 6px;
      background: #fff;
      color: var(--gray-800);
      outline: none;
      transition: border-color 0.2s, box-shadow 0.2s;
    }
    input:focus, select:focus {
      border-color: var(--blue-500);
      box-shadow: 0 0 0 3px rgba(59,130,246,0.1);
    }
    
    /* Text Input Area */
    .text-input-area {
      width: 100%;
      min-height: 80px;
      max-height: 120px;
      padding: 10px 12px;
      font-size: 16px;
      font-family: inherit;
      border: 1px solid var(--gray-300);
      border-radius: 6px;
      background: #fff;
      color: var(--gray-800);
      outline: none;
      resize: vertical;
      direction: auto;
      overflow-y: auto;
    }
    .text-input-area:focus {
      border-color: var(--blue-500);
      box-shadow: 0 0 0 3px rgba(59,130,246,0.1);
    }
    
    select {
      cursor: pointer;
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6'%3E%3Cpath fill='%23737373' d='M5 6L0 0h10z'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 10px center;
      padding-right: 28px;
    }
    
    input[type="range"] {
      width: 100%;
      height: 4px;
      border-radius: 2px;
      appearance: none;
      background: var(--gray-200);
      cursor: pointer;
    }
    input[type="range"]::-webkit-slider-thumb {
      appearance: none;
      width: 14px;
      height: 14px;
      border-radius: 50%;
      background: var(--blue-500);
      cursor: pointer;
    }
    
    input[type="color"] {
      width: 32px;
      height: 32px;
      border: 2px solid var(--gray-200);
      border-radius: 6px;
      cursor: pointer;
      padding: 2px;
    }
    input[type="file"] { display: none; }
    
    /* Buttons */
    .btn {
      padding: 8px 14px;
      font-size: 13px;
      font-weight: 500;
      font-family: inherit;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.15s;
    }
    .btn-primary { background: var(--blue-500); color: #fff; }
    .btn-primary:hover { background: var(--blue-600); }
    .btn-primary:disabled { background: #93c5fd; cursor: not-allowed; }
    .btn-secondary { background: var(--gray-100); color: var(--gray-700); }
    .btn-secondary:hover { background: var(--gray-200); }
    
    .btn-export {
      width: 100%;
      padding: 12px;
      font-size: 14px;
      font-weight: 600;
      font-family: inherit;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      background: linear-gradient(135deg, var(--blue-500) 0%, #8b5cf6 100%);
      color: #fff;
      box-shadow: 0 2px 8px rgba(59,130,246,0.3);
      transition: transform 0.15s, box-shadow 0.15s;
    }
    .btn-export:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(59,130,246,0.4);
    }
    
    .btn-upload {
      width: 100%;
      padding: 10px;
      font-size: 12px;
      font-weight: 500;
      border: 2px dashed var(--gray-300);
      border-radius: 6px;
      cursor: pointer;
      background: var(--gray-50);
      color: var(--gray-500);
      transition: all 0.15s;
      text-align: center;
    }
    .btn-upload:hover {
      border-color: var(--blue-500);
      color: var(--blue-500);
    }
    
    /* Utilities */
    .flex-row { display: flex; gap: 8px; align-items: center; }
    .flex-row input[type="text"] { flex: 1; }
    
    .toggle-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .toggle {
      width: 40px;
      height: 22px;
      border-radius: 11px;
      background: var(--gray-200);
      position: relative;
      cursor: pointer;
      transition: background 0.2s;
      flex-shrink: 0;
    }
    .toggle.on { background: var(--green-500); }
    .toggle-knob {
      width: 18px;
      height: 18px;
      border-radius: 9px;
      background: #fff;
      position: absolute;
      top: 2px;
      left: 2px;
      transition: left 0.2s;
      box-shadow: 0 1px 3px rgba(0,0,0,0.2);
    }
    .toggle.on .toggle-knob { left: 20px; }
    
    .color-row { display: flex; gap: 8px; align-items: center; }
    .color-row input[type="text"] { flex: 1; font-family: monospace; text-transform: uppercase; font-size: 12px; }
    
    .chip-row { display: flex; gap: 6px; flex-wrap: wrap; }
    .chip {
      padding: 5px 10px;
      font-size: 11px;
      font-weight: 500;
      border: 1px solid var(--gray-200);
      border-radius: 4px;
      cursor: pointer;
      background: #fff;
      color: var(--gray-600);
      transition: all 0.15s;
    }
    .chip:hover { border-color: var(--gray-400); }
    .chip.active {
      background: var(--blue-500);
      color: #fff;
      border-color: var(--blue-500);
    }
    
    .size-row { display: flex; gap: 6px; align-items: center; }
    .size-row input { width: 70px; text-align: center; font-size: 13px; }
    .size-row span { color: var(--gray-400); font-size: 12px; }
    
    .image-preview {
      margin-top: 8px;
      padding: 8px;
      background: var(--gray-50);
      border-radius: 6px;
      display: none;
    }
    .image-preview img {
      width: 100%;
      height: 50px;
      object-fit: cover;
      border-radius: 4px;
    }
    .image-preview-actions {
      margin-top: 6px;
      display: flex;
      justify-content: flex-end;
    }
    .btn-remove {
      padding: 4px 8px;
      font-size: 11px;
      background: #fee2e2;
      color: #dc2626;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    
    /* Preview Area - Fixed */
    .preview-area {
      flex: 1;
      display: flex;
      flex-direction: column;
      background: #fff;
      border: 1px solid var(--gray-200);
      border-radius: 12px;
      overflow: hidden;
    }
    .preview-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 20px;
      background: #fff;
      border-bottom: 1px solid var(--gray-100);
      flex-shrink: 0;
    }
    .preview-info {
      display: flex;
      align-items: center;
      gap: 16px;
    }
    .preview-title {
      font-size: 14px;
      font-weight: 600;
      color: var(--gray-700);
    }
    .preview-size {
      font-size: 12px;
      color: var(--gray-500);
    }
    .preview-zoom {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .preview-zoom label { margin: 0; font-size: 12px; color: var(--gray-500); }
    .preview-zoom select {
      width: auto;
      padding: 4px 24px 4px 8px;
      font-size: 12px;
    }
    
    .preview-wrapper {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
      overflow: auto;
      background: var(--gray-50);
    }
    .preview-canvas {
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      position: relative;
      flex-shrink: 0;
    }
    .preview-canvas.transparent {
      background-image: linear-gradient(45deg, #e5e5e5 25%, transparent 25%),
                        linear-gradient(-45deg, #e5e5e5 25%, transparent 25%),
                        linear-gradient(45deg, transparent 75%, #e5e5e5 75%),
                        linear-gradient(-45deg, transparent 75%, #e5e5e5 75%);
      background-size: 16px 16px;
      background-position: 0 0, 0 8px, 8px -8px, -8px 0px;
    }
    .preview-canvas svg {
      display: block;
      cursor: move;
    }
    .preview-canvas svg text {
      user-select: none;
    }
    
    .preview-hint {
      padding: 8px 20px 16px;
      text-align: center;
      font-size: 12px;
      color: var(--gray-400);
      flex-shrink: 0;
    }
    
    /* FAQ Section */
    .faq-section {
      background: var(--gray-50);
      padding: 48px 24px;
    }
    .faq-container {
      max-width: 800px;
      margin: 0 auto;
    }
    .faq-title {
      text-align: center;
      font-size: 24px;
      font-weight: 700;
      color: var(--gray-900);
      margin-bottom: 32px;
    }
    .faq-item {
      background: #fff;
      border-radius: 10px;
      margin-bottom: 12px;
      overflow: hidden;
      border: 1px solid var(--gray-200);
    }
    .faq-question {
      padding: 16px 20px;
      font-size: 15px;
      font-weight: 600;
      color: var(--gray-800);
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: background 0.2s;
    }
    .faq-question:hover { background: var(--gray-50); }
    .faq-icon {
      font-size: 18px;
      color: var(--gray-400);
      transition: transform 0.2s;
    }
    .faq-item.open .faq-icon { transform: rotate(45deg); }
    .faq-answer {
      padding: 0 20px 16px;
      font-size: 14px;
      color: var(--gray-600);
      line-height: 1.7;
      display: none;
    }
    .faq-item.open .faq-answer { display: block; }
    
    /* Footer */
    .footer {
      background: var(--gray-900);
      color: var(--gray-400);
      padding: 24px;
    }
    .footer-container {
      max-width: 1400px;
      margin: 0 auto;
    }
    .footer-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 13px;
    }
    .footer-links {
      display: flex;
      gap: 24px;
    }
    .footer-links a {
      color: var(--gray-400);
      text-decoration: none;
      transition: color 0.2s;
    }
    .footer-links a:hover { color: #fff; }
    
    /* Mobile */
    @media (max-width: 900px) {
      .header-links { display: none; }
      .hero h1 { font-size: 24px; }
      .hero p { font-size: 14px; }
      .main-wrapper { padding: 16px; }
      .main {
        flex-direction: column;
        height: auto;
      }
      .panel {
        width: 100%;
        max-height: none;
        overflow: visible;
        border-radius: 12px;
      }
      .preview-area {
        min-height: 400px;
        border-radius: 12px;
      }
      .faq-title { font-size: 20px; }
      .footer-content {
        flex-direction: column;
        gap: 16px;
        text-align: center;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <a href="/" class="logo">
      <span class="logo-icon">ÿπ</span>
      <span>Arabic Calligraphy Generator</span>
    </a>
    <ul class="header-links">
      <li><a href="/">Generator</a></li>
      <li><a href="/blog.html">Blog</a></li>
      <li><a href="/about.html">About</a></li>
      <li><a href="/contact.html">Contact</a></li>
    </ul>
    <span class="header-badge">Free SVG Export</span>
  </header>
  
  <!-- Hero Section -->
  <section class="hero">
    <h1>Arabic Calligraphy Generator</h1>
    <p>Create stunning Arabic calligraphy for free. Convert English to Arabic, choose from 11 beautiful calligraphy fonts, and export as PNG, JPG, or SVG.</p>
    <div class="hero-badges">
      <span class="hero-badge">‚úì 100% Free</span>
      <span class="hero-badge">‚úì No Signup</span>
      <span class="hero-badge">‚úì SVG Export</span>
      <span class="hero-badge">‚úì 11 Fonts</span>
    </div>
  </section>
  
  <!-- Main -->
  <div class="main-wrapper">
  <main class="main">
    <!-- Left Panel -->
    <div class="panel">
      <!-- Text Input -->
      <div class="section">
        <div class="section-title">Text Input</div>
        <div class="form-group">
          <label>English ‚Üí Arabic Translation</label>
          <div class="flex-row">
            <input type="text" id="english-input" placeholder="Type English text here...">
            <button class="btn btn-primary" id="translate-btn">Translate</button>
          </div>
        </div>
        <div class="form-group">
          <label>Arabic Text <span>(Press Enter for new line)</span></label>
          <textarea class="text-input-area" id="text-input" dir="rtl" placeholder="ÿßŸÉÿ™ÿ® ÿßŸÑŸÜÿµ ÿßŸÑÿπÿ±ÿ®Ÿä ŸáŸÜÿß...">ÿ®Ÿêÿ≥ŸíŸÖŸê ÿßŸÑŸÑŸéŸëŸáŸê ÿßŸÑÿ±ŸéŸëÿ≠ŸíŸÖŸéŸ∞ŸÜŸê ÿßŸÑÿ±ŸéŸëÿ≠ŸêŸäŸÖŸê</textarea>
        </div>
        <button class="btn btn-secondary" id="copy-btn" style="width:100%">Copy Text</button>
      </div>
      
      <!-- Font Style -->
      <div class="section">
        <div class="section-title">Font Style</div>
        <div class="form-group">
          <label>Calligraphy Style</label>
          <select id="font-select">
            <optgroup label="Traditional">
              <option value="'Scheherazade New', serif">Thuluth (Scheherazade)</option>
              <option value="'Amiri', serif">Naskh (Amiri)</option>
              <option value="'Noto Naskh Arabic', serif">Noto Naskh Arabic</option>
            </optgroup>
            <optgroup label="Kufi">
              <option value="'Reem Kufi', sans-serif">Kufi (Reem Kufi)</option>
              <option value="'Noto Kufi Arabic', sans-serif">Noto Kufi Arabic</option>
            </optgroup>
            <optgroup label="Diwani & Classic">
              <option value="'Aref Ruqaa', serif">Diwani (Aref Ruqaa)</option>
              <option value="'Noto Nastaliq Urdu', serif">Nastaliq</option>
              <option value="'Mirza', serif">Mirza</option>
            </optgroup>
            <optgroup label="Modern">
              <option value="'Lateef', serif">Lateef</option>
              <option value="'Markazi Text', serif">Markazi Text</option>
              <option value="'Cairo', sans-serif">Cairo</option>
            </optgroup>
          </select>
        </div>
        <div class="form-group">
          <label>Font Size <span id="size-value">48</span>px</label>
          <input type="range" id="size-range" min="16" max="120" value="48">
        </div>
        <div class="form-group">
          <label>Line Height <span id="line-height-value">1.5</span></label>
          <input type="range" id="line-height-range" min="10" max="30" value="15">
        </div>
      </div>
      
      <!-- Colors -->
      <div class="section">
        <div class="section-title">Colors</div>
        <div class="form-group">
          <label>Text Color</label>
          <div class="color-row">
            <input type="color" id="text-color" value="#1a1a1a">
            <input type="text" id="text-color-hex" value="#1a1a1a" maxlength="7">
          </div>
        </div>
        <div class="form-group">
          <div class="toggle-row">
            <label style="margin:0">Stroke (Outline)</label>
            <div class="toggle" id="stroke-toggle"><div class="toggle-knob"></div></div>
          </div>
        </div>
        <div id="stroke-options" style="display:none; margin-top:10px;">
          <div class="form-group">
            <label>Stroke Color</label>
            <div class="color-row">
              <input type="color" id="stroke-color" value="#000000">
              <input type="text" id="stroke-color-hex" value="#000000" maxlength="7">
            </div>
          </div>
          <div class="form-group">
            <label>Stroke Width <span id="stroke-value">2</span>px</label>
            <input type="range" id="stroke-range" min="1" max="8" value="2">
          </div>
        </div>
      </div>
      
      <!-- Transform -->
      <div class="section">
        <div class="section-title">Transform</div>
        <div class="form-group">
          <label>Rotation <span id="rotation-value">0</span>¬∞</label>
          <input type="range" id="rotation-range" min="-45" max="45" value="0">
        </div>
        <div class="form-group">
          <label>Opacity <span id="opacity-value">100</span>%</label>
          <input type="range" id="opacity-range" min="10" max="100" value="100">
        </div>
        <div class="form-group">
          <div class="toggle-row">
            <label style="margin:0">Harakat (Diacritics)</label>
            <div class="toggle on" id="harakat-toggle"><div class="toggle-knob"></div></div>
          </div>
        </div>
      </div>
      
      <!-- Position -->
      <div class="section">
        <div class="section-title">Position</div>
        <div class="form-group">
          <label>Horizontal <span id="pos-x-value">50</span>%</label>
          <input type="range" id="pos-x-range" min="0" max="100" value="50">
        </div>
        <div class="form-group">
          <label>Vertical <span id="pos-y-value">50</span>%</label>
          <input type="range" id="pos-y-range" min="0" max="100" value="50">
        </div>
        <button class="btn btn-secondary" id="center-btn" style="width:100%">Center Text</button>
      </div>
      
      <!-- Background -->
      <div class="section">
        <div class="section-title">Background</div>
        <div class="form-group">
          <div class="chip-row">
            <span class="chip active" data-bg="white">White</span>
            <span class="chip" data-bg="transparent">Transparent</span>
            <span class="chip" data-bg="color">Color</span>
            <span class="chip" data-bg="image">Image</span>
          </div>
        </div>
        <div class="form-group" id="bg-color-group" style="display:none">
          <label>Background Color</label>
          <div class="color-row">
            <input type="color" id="bg-color" value="#f5f5f5">
            <input type="text" id="bg-color-text" value="#f5f5f5" maxlength="7">
          </div>
        </div>
        <div id="bg-image-group" style="display:none">
          <div class="form-group">
            <button class="btn-upload" id="bg-image-btn">üìÅ Upload Background Image</button>
            <input type="file" id="bg-image-input" accept="image/*">
          </div>
          <div class="image-preview" id="image-preview">
            <img id="image-preview-img" src="" alt="Preview">
            <div class="image-preview-actions">
              <button class="btn-remove" id="image-remove-btn">Remove</button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Canvas Size -->
      <div class="section">
        <div class="section-title">Canvas Size</div>
        <div class="form-group">
          <label>Size Presets</label>
          <div class="chip-row">
            <span class="chip" data-w="1080" data-h="1080">Instagram</span>
            <span class="chip" data-w="1200" data-h="630">Facebook</span>
            <span class="chip" data-w="1200" data-h="675">Twitter</span>
            <span class="chip" data-w="1920" data-h="1080">HD</span>
          </div>
        </div>
        <div class="form-group">
          <label>Logo Presets</label>
          <div class="chip-row">
            <span class="chip" data-w="500" data-h="500">Square</span>
            <span class="chip" data-w="800" data-h="400">Wide</span>
            <span class="chip" data-w="400" data-h="400">Icon</span>
            <span class="chip" data-w="1000" data-h="300">Banner</span>
          </div>
        </div>
        <div class="form-group">
          <label>Custom Size</label>
          <div class="size-row">
            <input type="number" id="canvas-width" value="800" min="100" max="4000">
            <span>√ó</span>
            <input type="number" id="canvas-height" value="400" min="100" max="4000">
            <span>px</span>
          </div>
        </div>
      </div>
      
      <!-- Export -->
      <div class="section">
        <div class="section-title">Export</div>
        <div class="form-group">
          <div class="flex-row">
            <select id="export-format" style="flex:1">
              <option value="PNG">PNG</option>
              <option value="JPG">JPG</option>
              <option value="SVG">SVG (Vector)</option>
            </select>
            <select id="export-scale" style="width:70px">
              <option value="1">1x</option>
              <option value="2" selected>2x</option>
              <option value="3">3x</option>
            </select>
          </div>
        </div>
        <button class="btn-export" id="export-btn">Download PNG</button>
      </div>
    </div>
    
    <!-- Preview Area -->
    <div class="preview-area">
      <div class="preview-header">
        <div class="preview-info">
          <span class="preview-title">Live Preview</span>
          <span class="preview-size" id="preview-size">800 √ó 400 px</span>
        </div>
        <div class="preview-zoom">
          <label>Zoom:</label>
          <select id="preview-zoom">
            <option value="0.25">25%</option>
            <option value="0.5">50%</option>
            <option value="0.75">75%</option>
            <option value="1" selected>100%</option>
          </select>
        </div>
      </div>
      <div class="preview-wrapper">
        <div class="preview-canvas" id="preview-canvas">
          <svg id="preview-svg" xmlns="http://www.w3.org/2000/svg"></svg>
        </div>
      </div>
      <div class="preview-hint">üí° Drag text to reposition ‚Ä¢ Use sliders for precise control</div>
    </div>
  </main>
  </div>
  
  <!-- FAQ Section -->
  <section class="faq-section">
    <div class="faq-container">
      <h2 class="faq-title">Frequently Asked Questions</h2>
      
      <div class="faq-item open">
        <div class="faq-question" onclick="this.parentElement.classList.toggle('open')">
          <span>Is this Arabic calligraphy generator free?</span>
          <span class="faq-icon">+</span>
        </div>
        <div class="faq-answer">
          Yes, our Arabic calligraphy generator is completely free to use. You can create unlimited designs and export them as PNG, JPG, or SVG without any signup or payment required.
        </div>
      </div>
      
      <div class="faq-item">
        <div class="faq-question" onclick="this.parentElement.classList.toggle('open')">
          <span>Can I export Arabic calligraphy as SVG vector?</span>
          <span class="faq-icon">+</span>
        </div>
        <div class="faq-answer">
          Yes, you can export your Arabic calligraphy as SVG vector format for free. This allows you to scale your design to any size without losing quality, perfect for logos and print materials.
        </div>
      </div>
      
      <div class="faq-item">
        <div class="faq-question" onclick="this.parentElement.classList.toggle('open')">
          <span>What Arabic calligraphy styles are available?</span>
          <span class="faq-icon">+</span>
        </div>
        <div class="faq-answer">
          We offer 11 Arabic calligraphy styles including Thuluth (Scheherazade), Naskh (Amiri), Kufi (Reem Kufi), Diwani (Aref Ruqaa), Nastaliq, and modern styles like Cairo and Markazi.
        </div>
      </div>
      
      <div class="faq-item">
        <div class="faq-question" onclick="this.parentElement.classList.toggle('open')">
          <span>How do I write my name in Arabic calligraphy?</span>
          <span class="faq-icon">+</span>
        </div>
        <div class="faq-answer">
          Simply type your name in English in our generator and click "Translate" to convert it to Arabic. Then choose your preferred calligraphy style, customize colors and size, and export.
        </div>
      </div>
      
      <div class="faq-item">
        <div class="faq-question" onclick="this.parentElement.classList.toggle('open')">
          <span>Can I use this for Arabic calligraphy tattoo designs?</span>
          <span class="faq-icon">+</span>
        </div>
        <div class="faq-answer">
          Yes, many users create Arabic calligraphy designs for tattoos. Export as SVG for the best quality. We recommend verifying the Arabic text with a native speaker before getting a tattoo.
        </div>
      </div>
      
      <div class="faq-item">
        <div class="faq-question" onclick="this.parentElement.classList.toggle('open')">
          <span>Can I use the calligraphy for commercial projects?</span>
          <span class="faq-icon">+</span>
        </div>
        <div class="faq-answer">
          Yes, you can use the calligraphy you create for both personal and commercial projects. The fonts used are from Google Fonts with open-source licenses that allow commercial use.
        </div>
      </div>
    </div>
  </section>
  
  <!-- Footer -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-content">
        <p>¬© 2025 Arabic Calligraphy Generator. All rights reserved.</p>
        <div class="footer-links">
          <a href="/about.html">About</a>
          <a href="/contact.html">Contact</a>
          <a href="/privacy-policy.html">Privacy Policy</a>
          <a href="/terms.html">Terms</a>
        </div>
      </div>
    </div>
  </footer>
  
  <script>
    // State
    const state = {
      text: 'ÿ®Ÿêÿ≥ŸíŸÖŸê ÿßŸÑŸÑŸéŸëŸáŸê ÿßŸÑÿ±ŸéŸëÿ≠ŸíŸÖŸéŸ∞ŸÜŸê ÿßŸÑÿ±ŸéŸëÿ≠ŸêŸäŸÖŸê',
      font: "'Scheherazade New', serif",
      size: 48,
      lineHeight: 1.5,
      color: '#1a1a1a',
      stroke: false,
      strokeColor: '#000000',
      strokeWidth: 2,
      rotation: 0,
      opacity: 100,
      harakat: true,
      bg: 'white',
      bgColor: '#f5f5f5',
      bgImage: null,
      width: 800,
      height: 400,
      format: 'PNG',
      scale: 2,
      posX: 50,
      posY: 50,
      zoom: 1
    };
    
    let isDragging = false;
    let dragStartX, dragStartY, startPosX, startPosY;
    
    function removeHarakat(text) {
      return text.replace(/[\u064B-\u065F\u0670]/g, '');
    }
    
    function updatePreview() {
      const svg = document.getElementById('preview-svg');
      const canvas = document.getElementById('preview-canvas');
      
      svg.setAttribute('width', state.width);
      svg.setAttribute('height', state.height);
      svg.setAttribute('viewBox', `0 0 ${state.width} ${state.height}`);
      
      canvas.style.transform = `scale(${state.zoom})`;
      canvas.style.transformOrigin = 'center center';
      
      // Update size display
      document.getElementById('preview-size').textContent = `${state.width} √ó ${state.height} px`;
      
      // Background
      let bgContent = '';
      if (state.bg === 'white') {
        bgContent = `<rect width="${state.width}" height="${state.height}" fill="#ffffff"/>`;
        canvas.classList.remove('transparent');
      } else if (state.bg === 'transparent') {
        canvas.classList.add('transparent');
      } else if (state.bg === 'color') {
        bgContent = `<rect width="${state.width}" height="${state.height}" fill="${state.bgColor}"/>`;
        canvas.classList.remove('transparent');
      } else if (state.bg === 'image' && state.bgImage) {
        bgContent = `<image href="${state.bgImage}" width="${state.width}" height="${state.height}" preserveAspectRatio="xMidYMid slice"/>`;
        canvas.classList.remove('transparent');
      }
      
      // Text
      let displayText = state.text;
      if (!state.harakat) {
        displayText = removeHarakat(displayText);
      }
      
      const x = (state.posX / 100) * state.width;
      const y = (state.posY / 100) * state.height;
      
      const lines = displayText.split('\n');
      const lineSpacing = state.size * state.lineHeight;
      const totalHeight = (lines.length - 1) * lineSpacing;
      const startY = y - totalHeight / 2;
      
      let tspans = '';
      lines.forEach((line, index) => {
        const lineY = startY + index * lineSpacing;
        tspans += `<tspan x="${x}" y="${lineY}" text-anchor="middle" dominant-baseline="middle">${line || ' '}</tspan>`;
      });
      
      const strokeAttr = state.stroke 
        ? `stroke="${state.strokeColor}" stroke-width="${state.strokeWidth}" paint-order="stroke"` 
        : '';
      
      const textContent = `
        <g id="svg-transform" transform="rotate(${state.rotation}, ${x}, ${y})" style="cursor: move;">
          <text 
            font-family="${state.font}" 
            font-size="${state.size}" 
            fill="${state.color}" 
            ${strokeAttr}
            opacity="${state.opacity / 100}"
            direction="rtl"
          >${tspans}</text>
        </g>
      `;
      
      svg.innerHTML = bgContent + textContent;
      
      // Update sliders
      document.getElementById('pos-x-range').value = state.posX;
      document.getElementById('pos-y-range').value = state.posY;
      document.getElementById('pos-x-value').textContent = Math.round(state.posX);
      document.getElementById('pos-y-value').textContent = Math.round(state.posY);
      
      attachDragEvents();
    }
    
    function attachDragEvents() {
      const svgElement = document.getElementById('preview-svg');
      const svgTransform = document.getElementById('svg-transform');
      if (!svgTransform) return;
      
      svgTransform.onmousedown = (e) => {
        isDragging = true;
        dragStartX = e.clientX;
        dragStartY = e.clientY;
        startPosX = state.posX;
        startPosY = state.posY;
        e.preventDefault();
      };
      
      svgTransform.ontouchstart = (e) => {
        isDragging = true;
        const touch = e.touches[0];
        dragStartX = touch.clientX;
        dragStartY = touch.clientY;
        startPosX = state.posX;
        startPosY = state.posY;
        e.preventDefault();
      };
    }
    
    document.addEventListener('mousemove', (e) => {
      if (!isDragging) return;
      const svgElement = document.getElementById('preview-svg');
      const rect = svgElement.getBoundingClientRect();
      
      // Calculate delta based on actual SVG dimensions and zoom
      const scaleX = state.width / (rect.width);
      const scaleY = state.height / (rect.height);
      
      const deltaX = (e.clientX - dragStartX) * scaleX / state.width * 100;
      const deltaY = (e.clientY - dragStartY) * scaleY / state.height * 100;
      
      state.posX = Math.max(0, Math.min(100, startPosX + deltaX));
      state.posY = Math.max(0, Math.min(100, startPosY + deltaY));
      
      updatePreview();
    });
    
    document.addEventListener('touchmove', (e) => {
      if (!isDragging) return;
      const touch = e.touches[0];
      const svgElement = document.getElementById('preview-svg');
      const rect = svgElement.getBoundingClientRect();
      
      const scaleX = state.width / (rect.width);
      const scaleY = state.height / (rect.height);
      
      const deltaX = (touch.clientX - dragStartX) * scaleX / state.width * 100;
      const deltaY = (touch.clientY - dragStartY) * scaleY / state.height * 100;
      
      state.posX = Math.max(0, Math.min(100, startPosX + deltaX));
      state.posY = Math.max(0, Math.min(100, startPosY + deltaY));
      
      updatePreview();
    }, { passive: false });
    
    document.addEventListener('mouseup', () => { isDragging = false; });
    document.addEventListener('touchend', () => { isDragging = false; });
    
    // Text input
    document.getElementById('text-input').addEventListener('input', (e) => {
      state.text = e.target.value || ' ';
      updatePreview();
    });
    
    // Translate
    document.getElementById('translate-btn').addEventListener('click', async () => {
      const input = document.getElementById('english-input');
      const btn = document.getElementById('translate-btn');
      const text = input.value.trim();
      if (!text) return;
      
      btn.disabled = true;
      btn.textContent = '...';
      
      try {
        const response = await fetch(`https://api.mymemory.translated.net/get?q=${encodeURIComponent(text)}&langpair=en|ar`);
        const data = await response.json();
        if (data.responseData && data.responseData.translatedText) {
          document.getElementById('text-input').value = data.responseData.translatedText;
          state.text = data.responseData.translatedText;
          updatePreview();
        }
      } catch (error) {
        alert('Translation failed. Please try again.');
      } finally {
        btn.disabled = false;
        btn.textContent = 'Translate';
      }
    });
    
    // Copy
    document.getElementById('copy-btn').addEventListener('click', () => {
      const text = document.getElementById('text-input').value;
      navigator.clipboard.writeText(text).then(() => {
        const btn = document.getElementById('copy-btn');
        btn.textContent = '‚úì Copied!';
        setTimeout(() => { btn.textContent = 'Copy Text'; }, 1500);
      });
    });
    
    // Font
    document.getElementById('font-select').addEventListener('change', (e) => {
      state.font = e.target.value;
      updatePreview();
    });
    
    // Size
    document.getElementById('size-range').addEventListener('input', (e) => {
      state.size = parseInt(e.target.value);
      document.getElementById('size-value').textContent = state.size;
      updatePreview();
    });
    
    // Line height
    document.getElementById('line-height-range').addEventListener('input', (e) => {
      state.lineHeight = parseInt(e.target.value) / 10;
      document.getElementById('line-height-value').textContent = state.lineHeight.toFixed(1);
      updatePreview();
    });
    
    // Text color
    document.getElementById('text-color').addEventListener('input', (e) => {
      state.color = e.target.value;
      document.getElementById('text-color-hex').value = e.target.value;
      updatePreview();
    });
    document.getElementById('text-color-hex').addEventListener('input', (e) => {
      if (/^#[0-9A-Fa-f]{6}$/.test(e.target.value)) {
        state.color = e.target.value;
        document.getElementById('text-color').value = e.target.value;
        updatePreview();
      }
    });
    
    // Stroke toggle
    document.getElementById('stroke-toggle').addEventListener('click', function() {
      this.classList.toggle('on');
      state.stroke = this.classList.contains('on');
      document.getElementById('stroke-options').style.display = state.stroke ? 'block' : 'none';
      updatePreview();
    });
    
    // Stroke color
    document.getElementById('stroke-color').addEventListener('input', (e) => {
      state.strokeColor = e.target.value;
      document.getElementById('stroke-color-hex').value = e.target.value;
      updatePreview();
    });
    document.getElementById('stroke-color-hex').addEventListener('input', (e) => {
      if (/^#[0-9A-Fa-f]{6}$/.test(e.target.value)) {
        state.strokeColor = e.target.value;
        document.getElementById('stroke-color').value = e.target.value;
        updatePreview();
      }
    });
    
    // Stroke width
    document.getElementById('stroke-range').addEventListener('input', (e) => {
      state.strokeWidth = parseInt(e.target.value);
      document.getElementById('stroke-value').textContent = state.strokeWidth;
      updatePreview();
    });
    
    // Rotation
    document.getElementById('rotation-range').addEventListener('input', (e) => {
      state.rotation = parseInt(e.target.value);
      document.getElementById('rotation-value').textContent = state.rotation;
      updatePreview();
    });
    
    // Opacity
    document.getElementById('opacity-range').addEventListener('input', (e) => {
      state.opacity = parseInt(e.target.value);
      document.getElementById('opacity-value').textContent = state.opacity;
      updatePreview();
    });
    
    // Harakat
    document.getElementById('harakat-toggle').addEventListener('click', function() {
      this.classList.toggle('on');
      state.harakat = this.classList.contains('on');
      updatePreview();
    });
    
    // Position
    document.getElementById('pos-x-range').addEventListener('input', (e) => {
      state.posX = parseInt(e.target.value);
      document.getElementById('pos-x-value').textContent = state.posX;
      updatePreview();
    });
    document.getElementById('pos-y-range').addEventListener('input', (e) => {
      state.posY = parseInt(e.target.value);
      document.getElementById('pos-y-value').textContent = state.posY;
      updatePreview();
    });
    document.getElementById('center-btn').addEventListener('click', () => {
      state.posX = 50;
      state.posY = 50;
      updatePreview();
    });
    
    // Background
    document.querySelectorAll('[data-bg]').forEach(chip => {
      chip.addEventListener('click', () => {
        document.querySelectorAll('[data-bg]').forEach(c => c.classList.remove('active'));
        chip.classList.add('active');
        state.bg = chip.dataset.bg;
        document.getElementById('bg-color-group').style.display = state.bg === 'color' ? 'block' : 'none';
        document.getElementById('bg-image-group').style.display = state.bg === 'image' ? 'block' : 'none';
        updatePreview();
      });
    });
    
    document.getElementById('bg-color').addEventListener('input', (e) => {
      state.bgColor = e.target.value;
      document.getElementById('bg-color-text').value = e.target.value;
      updatePreview();
    });
    document.getElementById('bg-color-text').addEventListener('input', (e) => {
      if (/^#[0-9A-Fa-f]{6}$/.test(e.target.value)) {
        state.bgColor = e.target.value;
        document.getElementById('bg-color').value = e.target.value;
        updatePreview();
      }
    });
    
    document.getElementById('bg-image-btn').addEventListener('click', () => {
      document.getElementById('bg-image-input').click();
    });
    document.getElementById('bg-image-input').addEventListener('change', (e) => {
      const file = e.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = (event) => {
          state.bgImage = event.target.result;
          document.getElementById('image-preview-img').src = state.bgImage;
          document.getElementById('image-preview').style.display = 'block';
          updatePreview();
        };
        reader.readAsDataURL(file);
      }
    });
    document.getElementById('image-remove-btn').addEventListener('click', () => {
      state.bgImage = null;
      document.getElementById('bg-image-input').value = '';
      document.getElementById('image-preview').style.display = 'none';
      updatePreview();
    });
    
    // Size presets
    document.querySelectorAll('[data-w]').forEach(chip => {
      chip.addEventListener('click', () => {
        state.width = parseInt(chip.dataset.w);
        state.height = parseInt(chip.dataset.h);
        document.getElementById('canvas-width').value = state.width;
        document.getElementById('canvas-height').value = state.height;
        updatePreview();
      });
    });
    
    document.getElementById('canvas-width').addEventListener('input', (e) => {
      state.width = parseInt(e.target.value) || 800;
      updatePreview();
    });
    document.getElementById('canvas-height').addEventListener('input', (e) => {
      state.height = parseInt(e.target.value) || 400;
      updatePreview();
    });
    
    // Zoom
    document.getElementById('preview-zoom').addEventListener('change', (e) => {
      state.zoom = parseFloat(e.target.value);
      updatePreview();
    });
    
    // Export format
    document.getElementById('export-format').addEventListener('change', (e) => {
      state.format = e.target.value;
      document.getElementById('export-btn').textContent = 'Download ' + state.format;
    });
    document.getElementById('export-scale').addEventListener('change', (e) => {
      state.scale = parseInt(e.target.value);
    });
    
    // Export using Canvas direct drawing (more reliable for fonts)
    document.getElementById('export-btn').addEventListener('click', async () => {
      const exportBtn = document.getElementById('export-btn');
      const originalText = exportBtn.textContent;
      exportBtn.textContent = 'Exporting...';
      exportBtn.disabled = true;
      
      try {
        // Wait for fonts to be ready
        await document.fonts.ready;
        
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        
        canvas.width = state.width * state.scale;
        canvas.height = state.height * state.scale;
        
        // Scale for high resolution
        ctx.scale(state.scale, state.scale);
        
        // Draw background
        if (state.bg === 'white') {
          ctx.fillStyle = '#ffffff';
          ctx.fillRect(0, 0, state.width, state.height);
        } else if (state.bg === 'color') {
          ctx.fillStyle = state.bgColor;
          ctx.fillRect(0, 0, state.width, state.height);
        } else if (state.bg === 'image' && state.bgImage) {
          // Draw background image
          await new Promise((resolve) => {
            const bgImg = new Image();
            bgImg.onload = () => {
              ctx.drawImage(bgImg, 0, 0, state.width, state.height);
              resolve();
            };
            bgImg.src = state.bgImage;
          });
        } else if (state.bg === 'transparent' && state.format === 'JPG') {
          // JPG doesn't support transparency, use white
          ctx.fillStyle = '#ffffff';
          ctx.fillRect(0, 0, state.width, state.height);
        }
        // For PNG with transparent bg, do nothing (canvas is transparent by default)
        
        // Prepare text
        let displayText = state.text;
        if (!state.harakat) {
          displayText = removeHarakat(displayText);
        }
        
        // Calculate position
        const x = (state.posX / 100) * state.width;
        const y = (state.posY / 100) * state.height;
        
        // Set up text styles
        ctx.font = `${state.size}px ${state.font}`;
        ctx.fillStyle = state.color;
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.globalAlpha = state.opacity / 100;
        
        // Apply rotation
        ctx.save();
        ctx.translate(x, y);
        ctx.rotate(state.rotation * Math.PI / 180);
        
        // Draw text lines
        const lines = displayText.split('\n');
        const lineSpacing = state.size * state.lineHeight;
        const totalHeight = (lines.length - 1) * lineSpacing;
        const startY = -totalHeight / 2;
        
        lines.forEach((line, index) => {
          const lineY = startY + index * lineSpacing;
          
          // Draw stroke first if enabled
          if (state.stroke) {
            ctx.strokeStyle = state.strokeColor;
            ctx.lineWidth = state.strokeWidth;
            ctx.lineJoin = 'round';
            ctx.strokeText(line || ' ', 0, lineY);
          }
          
          // Draw fill
          ctx.fillText(line || ' ', 0, lineY);
        });
        
        ctx.restore();
        
        // Export
        if (state.format === 'SVG') {
          // For SVG, we still use the SVG element but with embedded font
          const svg = document.getElementById('preview-svg');
          const svgData = new XMLSerializer().serializeToString(svg);
          const blob = new Blob([svgData], { type: 'image/svg+xml' });
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url;
          a.download = 'arabic-calligraphy.svg';
          a.click();
          URL.revokeObjectURL(url);
        } else {
          const a = document.createElement('a');
          a.href = canvas.toDataURL(state.format === 'JPG' ? 'image/jpeg' : 'image/png', 0.95);
          a.download = `arabic-calligraphy.${state.format.toLowerCase()}`;
          a.click();
        }
      } catch (e) {
        console.error('Export failed:', e);
        alert('Export failed. Please try again.');
      } finally {
        exportBtn.textContent = originalText;
        exportBtn.disabled = false;
      }
    });
    
    // Init
    updatePreview();
  </script>
</body>
</html>
